// room script file

function hLivro_Look()
{
  int obj_assoc = hLivro.GetProperty("object_assoc");
  int livroX,  livroY;
  
  player.Walk(270,  175,  eBlock);
  if ( obj_assoc != -1 ) {
      livroX = object[obj_assoc].X;
      livroY = object[obj_assoc].Y;
      player.FaceLocation(livroX,  livroY);
  }
  player.Say("O livro da Dolores..");
  cDolores.ChangeRoom(2,  170,  170);
  cSophie.ChangeRoom(2,  180,  200);
  SetScreenTransition(eTransitionDissolve);
  hLivro.Enabled = false;
  cSophie.SetAsPlayer();
}

function on_key_press(eKeyCode keycode) {
  
  if (keycode == eKey0){
    if ( hLivro.Enabled == true ){
      hLivro.Enabled = false;
    } else {
      hLivro.Enabled = true;
    }
  }
  
  if (keycode == eKeyH){
    ToggleHotspotsHighlights();
  }
}

function room_RepExec()
{
  
  
}

function hTV_Look()
{
  int obj_assoc = hTV.GetProperty("object_assoc");
  int livroX,  livroY;
  
  player.Walk(70,  240,  eBlock);
  if ( obj_assoc != -1 ) {
      livroX = object[obj_assoc].X;
      livroY = object[obj_assoc].Y;
      player.FaceLocation(livroX,  livroY);
  }
  player.Say("Que saudade do tempo que passavamos jogando videogame aqui..");
  cDolores.ChangeRoom(2,  260,  160);
  cDolores.FaceDirection(eDirectionUp);
  cSophie.ChangeRoom(2,  180,  310);
  cSophie.FaceDirection(eDirectionUp);
  SetScreenTransition(eTransitionDissolve);
  hTV.Enabled = false;
  cSophie.SetAsPlayer();
}
